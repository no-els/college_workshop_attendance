<template>
  <template for:each={seriesList} for:item="series">
    <div key={series.id} class="series-section">
      <div class="series-header slds-p-around_x-small" data-id={series.id} onclick={toggleSeries}>
        <span class="series-name">{series.toggleArrow} {series.name}</span>
      </div>

      <template if:true={series.isExpanded}>
        <ul class="workshop-list">
          <template for:each={series.workshops} for:item="workshop">
            <li 
              key={workshop.Id}
              data-id={workshop.Id}
              data-name={workshop.Name}
              data-site={workshop.Site__c}
              data-date={workshop.Date__c}
              data-nearpeer={workshop.Near_Peer_Workshop__c}
              onclick={handleWorkshopClick}
              class="workshop-item">
              <span class="workshop-name">{workshop.Name}</span>
              <span class="workshop-date">({workshop.Date__c})</span>
            </li>
          </template>
        </ul>
      </template>
    </div>
  </template>
</template>
